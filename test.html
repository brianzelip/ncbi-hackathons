---
---
<!DOCTYPE html>
<html lang="en-US">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <link rel="stylesheet" href="/css/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://unpkg.com/basscss@7.1.1/css/basscss.min.css">
    <link rel="stylesheet" href="/css/custom.css">
    <title>TITLE</title>
    <style>
      * {box-sizing: border-box;}
      html,
      body,
      .vh100 {
        min-height: 100vh;
      }
      body {color:rgb(58, 58, 58);}
      body, .h0, h1, h2, h3, h4, h5, h6 {
        font-family: -apple-system,
        BlinkMacSystemFont,
        'Segoe UI',
        Roboto,
        Oxygen,
        Ubuntu,
        Cantarell,
        'Fira Sans',
        'Droid Sans',
        'Helvetica Neue',
        sans-serif;
      }
      .container {
        max-width: 76em;
        margin-right: auto;
        margin-left: auto;
      }
      .align-items-stretch { align-items: stretch; }
      .align-items-baseline { align-items: baseline; }
      .align-items-start { align-items: flex-start; }
      .h0 {font-size: 3rem;}
      .soft-black{background-color:rgb(58, 58, 58);}
      .bg-soft-black{background-color:rgb(58, 58, 58);}
      .rounded { border-radius:4px; }
      .rounded-top { border-radius:4px 4px 0 0; }
      .rounded-right { border-radius:0 4px 4px 0; }
      .rounded-bottom { border-radius:0 0 4px 4px; }
      .rounded-left { border-radius:4px 0 0 4px; }
    </style>
  </head>

  <body>

    <header class="bg-soft-black">

      <nav class="container py2 px3 overflow-hidden">

        <div class="flex justify-between align-items-center white">
          <h1 class="h2 m0 regular">NCBI Hackathons</h1>
          <div class="flex">
            <a href="about" class="btn regular">About</a>
            <a href="resources" class="btn regular">Resources</a>
            <a href="contact" class="btn regular">Contact</a>
          </div>
        </div>

      </nav>
    </header>

    <section class="bg-lime">
      <div class="container p3">

        <div class="sm-flex">
          <div class="sm-col-6">
            <div class="p2">

              <div class="p2 border border-white">
                <p class="h2 white">Past Hackathons</p>
                {% include upcoming-hackathons.html %}
              </div>

            </div>
          </div>
          <div class="sm-col-6">
            <div class="p2">

              <div class="p2 border border-white">
                <p class="h2 white">Upcoming Hackathons</p>
                {% include upcoming-hackathons.html %}
              </div>

            </div>
          </div>
        </div>

      </div>
    </section>

    <section class="bg-darken-1">

      {% include hackathon-product-section.html %}
    </section>

    <section>
      <h1>hello</h1>
    </section>

    <ol id="test"></ol>

    <script>
    /*
      super helpful article on promises that provided the solution below:
      https://developers.google.com/web/fundamentals/getting-started/primers/promises#whats-all-the-fuss-about
    */
      const glitch = 'https://able-viper.glitch.me/data';

      function get(url) {
        // Return a new promise.
        return new Promise(function(resolve, reject) {
          // Do the usual XHR stuff
          var req = new XMLHttpRequest();
          req.open('GET', url);

          req.onload = function() {
            // This is called even on 404 etc
            // so check the status
            if (req.status == 200) {
              // Resolve the promise with the response text
              resolve(req.response);
            }
            else {
              // Otherwise reject with the status text
              // which will hopefully be a meaningful error
              reject(Error(req.statusText));
            }
          };

          // Handle network errors
          req.onerror = function() {
            reject(Error("Network Error"));
          };

          // Make the request
          req.send();
        });
      }

      get(glitch)
        .then( (response) => JSON.parse(response) )
        .then( (response) => {
          const list = document.getElementById('test');
          for (let i=0; i<response.data.organization.repositories.nodes.length; i++) {
            list.innerHTML = list.innerHTML + `<li>${response.data.organization.repositories.nodes[i].name}</li>`
          }
          return response;
        })

    </script>

  </body>

</html>
